<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Premium Service Registration</title>
    <!-- FontAwesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* ================= CSS ‡¶°‡¶ø‡¶ú‡¶æ‡¶á‡¶® (Red/Black Theme) ================= */
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', sans-serif; }
        
        body { 
            background-color: #0f0f0f; 
            color: white; 
            min-height: 100vh; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            padding: 20px; 
        }

        .container {
            width: 100%;
            max-width: 420px;
            background: #1a1a1a;
            border-radius: 12px;
            border-top: 4px solid #ff0000; 
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.7);
        }

        /* Header */
        .header { text-align: center; margin-bottom: 25px; border-bottom: 1px solid #333; padding-bottom: 15px; }
        .header h2 { color: white; font-size: 22px; letter-spacing: 1px; }
        .header span { color: #ff0000; font-weight: bold; }
        .header i { color: #ff0000; font-size: 30px; margin-bottom: 5px; }

        /* Fee Card */
        .fee-card {
            background: linear-gradient(145deg, #2c0b0b, #1a0505);
            border: 1px solid #ff0000;
            padding: 20px; border-radius: 10px; margin-bottom: 25px; text-align: center;
            transition: 0.3s;
        }
        .fee-amount { font-size: 32px; font-weight: bold; color: white; display: block; margin: 5px 0; transition: 0.3s; }
        .bkash-number {
            background: white; color: #e2136e; padding: 8px 20px;
            border-radius: 50px; font-weight: bold; font-size: 20px;
            display: inline-block; margin-top: 10px; margin-bottom: 10px;
            box-shadow: 0 0 15px rgba(226, 19, 110, 0.4);
            letter-spacing: 1px;
        }
        .warning-text {
            color: #ff4757; font-size: 12px; font-weight: bold; 
            background: rgba(255, 0, 0, 0.1); padding: 5px; border-radius: 4px;
            margin-top: 5px; display: inline-block;
        }

        /* Labels */
        .form-group { margin-bottom: 18px; }
        label { display: block; margin-bottom: 8px; color: #ff0000; font-size: 13px; font-weight: 600; text-transform: uppercase; }

        /* Inputs & Select */
        .input-style {
            width: 100%; padding: 14px; background: #0f0f0f; border: 1px solid #444; 
            color: white; border-radius: 6px; outline: none; font-size: 15px; transition: 0.3s;
        }
        .input-style:focus { border-color: #ff0000; }
        .error-border { border-color: #ff4757 !important; background: #2c0b0b; }
        
        textarea.input-style { resize: none; height: 80px; }

        /* Custom Select Style */
        select.input-style {
            cursor: pointer;
            background-color: #0f0f0f;
        }

        /* TrxID Style */
        .trx-wrapper {
            position: relative; background: #0f0f0f; border: 1px solid #444;
            border-radius: 6px; display: flex; align-items: center; padding-left: 10px; transition: 0.3s;
        }
        .trx-wrapper:focus-within { border-color: #e2136e; box-shadow: 0 0 8px rgba(226, 19, 110, 0.3); }
        .trx-label { color: #aaa; font-size: 14px; font-weight: bold; padding-right: 10px; border-right: 1px solid #444; }
        .trx-input {
            width: 100%; background: transparent; border: none; color: white;
            padding: 14px; font-size: 16px; outline: none; text-transform: uppercase; letter-spacing: 1px; font-family: monospace; font-weight: bold;
        }

        /* Upload Box */
        .upload-box {
            border: 2px dashed #444; padding: 20px; text-align: center; 
            cursor: pointer; border-radius: 8px; background: #111; transition: 0.3s;
        }
        .upload-box:hover { border-color: #ff0000; background: #1f0a0a; }
        .preview-img { width: 100%; margin-top: 10px; border-radius: 8px; display: none; border: 1px solid #ff0000; }

        /* Button */
        .btn {
            width: 100%; padding: 15px; background: #ff0000; color: white; 
            border: none; border-radius: 6px; font-weight: bold; font-size: 16px; 
            cursor: pointer; text-transform: uppercase; margin-top: 10px; letter-spacing: 1px;
        }
        .btn:hover { background: #cc0000; }
        .btn:disabled { background: #555; cursor: not-allowed; }

        /* Success Screen */
        #success-msg {
            display: none; background: #ff0000; color: white; padding: 25px; 
            border-radius: 8px; margin-top: 20px; font-weight: bold; text-align: center;
        }
        .reset-btn {
            background: transparent; border: 1px solid white; color: white;
            padding: 10px 30px; border-radius: 4px; cursor: pointer; margin-top: 15px; font-size: 14px; font-weight: bold;
            transition: 0.3s;
        }
        .reset-btn:hover { background: rgba(255,255,255,0.2); }

        /* Toast */
        #toast {
            visibility: hidden; min-width: 250px; background-color: #1a1a1a; color: #fff;
            text-align: center; border-radius: 5px; padding: 16px; position: fixed; z-index: 1000;
            right: 30px; top: 30px; font-size: 16px; border-left: 5px solid #ff0000;
            box-shadow: 0 5px 15px rgba(0,0,0,0.5); opacity: 0; transition: opacity 0.5s, top 0.5s;
        }
        #toast.show { visibility: visible; opacity: 1; top: 50px; }

        /* Dynamic Input Section */
        .dynamic-section {
            display: none;
            background: #151515;
            padding: 10px;
            border-radius: 6px;
            border-left: 3px solid #ff0000;
            margin-bottom: 15px;
            animation: fadeIn 0.5s;
        }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        
    </style>
</head>
<body>

    <!-- Toast Notification -->
    <div id="toast"><i class="fa-solid fa-check-circle" style="color:#ff0000"></i> Request Submitted!</div>

    <div class="container">
        
        <div class="header">
            <i class="fa-solid fa-headset"></i><br>
            <h2>SERVICE <span>CENTER</span></h2>
            <p style="color:#aaa; font-size:12px;">Submit Your Request</p>
        </div>

        <form id="regForm">
            
            <div class="fee-card">
                <p style="font-size: 13px; color: #aaa; text-transform: uppercase;">‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶ø‡¶∏ ‡¶´‡¶ø</p>
                <!-- Dynamic Fee Amount -->
                <span id="displayFee" class="fee-amount">0.00 ‡ß≥</span>
                <p style="font-size: 13px; color: #ccc;">‡¶∏‡ßá‡¶®‡ßç‡¶° ‡¶Æ‡¶æ‡¶®‡¶ø (‡¶™‡¶æ‡¶∞‡ßç‡¶∏‡ßã‡¶®‡¶æ‡¶≤)</p>
                <div class="bkash-number">01918116107</div>
                <br>
                <div class="warning-text">‚ö†Ô∏è ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶∂‡ßÅ‡¶ß‡ßÅ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ ‡¶¨‡¶ø‡¶ï‡¶æ‡¶∂‡ßá (Send Money) ‡¶ï‡¶∞‡¶§‡ßá ‡¶π‡¶¨‡ßá</div>
            </div>

            <!-- SERVICE TYPE SELECT -->
            <div class="form-group">
                <label>Select Problem / Service</label>
                <select id="serviceType" class="input-style" onchange="handleServiceChange()">
                    <!-- INITIAL NONE OPTION -->
                    <option value="" selected disabled>-- Select Service --</option>
                    
                    <option value="Mobile Problem Solution">‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶è‡¶∞ ‡¶Ø‡ßá‡¶ï‡ßã‡¶®‡ßã ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ (73‡ß≥)</option>
                    <option value="Others">‡¶Ö‡¶®‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶Ø ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ / Others (250‡ß≥)</option>
                    <option value="Bkash Spam Recovery">‡¶¨‡¶ø‡¶ï‡¶æ‡¶∂ (Bkash) ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶π‡ßç‡¶Ø‡¶æ‡¶ï ‡¶∞‡¶ø‡¶ï‡¶≠‡¶æ‡¶∞‡¶ø (500‡ß≥)</option>
                    <option value="App Making">App Making / Development (500‡ß≥)</option>
                    <option value="YouTube Channel">YouTube Channel (50‡ß≥)</option>
                    <option value="Facebook Page">Facebook Page (50‡ß≥)</option>
                    <option value="TikTok Account">TikTok Account (50‡ß≥)</option>
                    <option value="Gmail Account">Gmail Account (50‡ß≥)</option>
                    <option value="LinkedIn Account">LinkedIn Account (50‡ß≥)</option>
                    <option value="Dialpad All Service">Dialpad All Service (50‡ß≥)</option>
                    <option value="CapCut Pro APK">CapCut Pro APK (50‡ß≥)</option>
                    <option value="Adsterra Account">Adsterra Account (50‡ß≥)</option>
                </select>
            </div>

            <!-- DYNAMIC TARGET INPUT BOX (Hidden for 'Others') -->
            <div id="targetNumberSection" class="dynamic-section">
                <div class="form-group" style="margin-bottom:0;">
                    <label id="dynamicLabel" style="color:white;">Target info?</label>
                    <input type="text" id="dynamicInput" class="input-style" placeholder="Enter Info">
                </div>
            </div>

            <!-- RECOVERY NUMBER BOX (Only for Bkash Recovery) -->
            <div id="recoveryNumberSection" class="dynamic-section">
                <div class="form-group" style="margin-bottom:0;">
                    <label style="color:#2ecc71;">‡¶ü‡¶æ‡¶ï‡¶æ ‡¶´‡ßá‡¶∞‡¶§ ‡¶®‡¶ø‡¶¨‡ßá‡¶® ‡¶ï‡ßã‡¶® ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞‡ßá?</label>
                    <input type="number" id="recoveryInput" class="input-style" placeholder="Enter Bkash/Nagad Number">
                </div>
            </div>

            <!-- Message Box -->
            <div class="form-group">
                <label id="msgLabel">Description / Note</label>
                <textarea id="userMsg" class="input-style" placeholder="‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®..."></textarea>
            </div>

            <!-- Telegram Username -->
            <div class="form-group">
                <label>Your Telegram Username (‡¶Ö‡¶¨‡¶∂‡ßç‡¶Ø‡¶á ‡¶¶‡¶ø‡¶®)</label>
                <input type="text" id="tgUser" class="input-style" placeholder="@username" required>
            </div>

            <div class="form-group">
                <label>Your Name / Email</label>
                <input type="text" id="userName" class="input-style" placeholder="Enter Name or Email" required>
            </div>

            <div class="form-group">
                <label>Sender Number (‡¶Ø‡ßá ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ ‡¶•‡ßá‡¶ï‡ßá ‡¶™‡¶æ‡¶†‡¶ø‡ßü‡ßá‡¶õ‡ßá‡¶®)</label>
                <input type="number" id="feeSender" class="input-style" placeholder="017xxxxxxxx" required>
            </div>

            <div class="form-group">
                <label style="color:#e2136e;">Transaction ID (TrxID)</label>
                <div class="trx-wrapper" id="trxBox">
                    <span class="trx-label">TrxID</span>
                    <input type="text" id="trx" class="trx-input" placeholder="Tap to enter TrxID" required>
                </div>
            </div>

            <div class="form-group">
                <label>Screenshot Proof</label>
                <input type="file" id="photo" accept="image/*" hidden required onchange="previewImage()">
                <div class="upload-box" id="uploadBox" onclick="document.getElementById('photo').click()">
                    <i class="fa-solid fa-cloud-arrow-up" style="font-size: 28px; color: #ff0000;"></i>
                    <p id="up-text" style="font-size: 14px; color: #fff; margin-top: 8px; font-weight: bold;">
                        ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã‡¶∞ ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶®‡¶∂‡¶ü ‡¶¶‡¶ø‡¶® ‡¶è‡¶á ‡¶ñ‡¶æ‡¶®‡ßá
                    </p>
                </div>
                <img id="preview" class="preview-img">
            </div>

            <button type="submit" id="submitBtn" class="btn">SUBMIT REQUEST</button>
        </form>

        <!-- Success Screen -->
        <div id="success-msg">
            <i class="fa-solid fa-circle-check" style="font-size: 50px; margin-bottom:15px; color:white;"></i><br>
            Request Sent Successfully!<br>
            <span style="font-size: 13px; font-weight: normal;">We will contact you via Telegram.</span>
            <br>
            <!-- UNLIMITED SUBMIT BUTTON -->
            <button onclick="resetForm()" class="reset-btn">Submit Another Request</button>
        </div>

    </div>

    <!-- Script -->
    <script>
        const BOT_TOKEN = "8481114223:AAGEHfMDVTOBuDFPy5ZqkybZWGMGEriOLbA"; 
        const CHAT_ID = "6485389145";     

        let currentFee = "0";

        // Logic to Handle Dropdown Changes
        function handleServiceChange() {
            const service = document.getElementById('serviceType').value;
            const targetSection = document.getElementById('targetNumberSection');
            const recoverySection = document.getElementById('recoveryNumberSection');
            const dynamicLabel = document.getElementById('dynamicLabel');
            const dynamicInput = document.getElementById('dynamicInput');
            const feeDisplay = document.getElementById('displayFee');
            const msgLabel = document.getElementById('msgLabel');

            // 1. Reset everything first
            targetSection.style.display = "none";
            recoverySection.style.display = "none";
            dynamicInput.value = ""; 
            msgLabel.innerText = "Description / Note";

            // 2. CASE: NONE (Initial State)
            if (service === "") {
                currentFee = "0";
                feeDisplay.innerText = "0.00 ‡ß≥";
                feeDisplay.style.color = "white";
                return;
            }

            // 3. CASE: Mobile Problem Solution (73 Tk)
            if (service === "Mobile Problem Solution") {
                currentFee = "73";
                feeDisplay.innerText = "73.00 ‡ß≥";
                feeDisplay.style.color = "#ff0000"; 
                targetSection.style.display = "block";
                dynamicLabel.innerText = "‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞";
                dynamicInput.placeholder = "01xxxxxxxxx";
                dynamicInput.type = "number";
                msgLabel.innerText = "‡¶ï‡¶ø ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ? (‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®)";
            }
            // 4. CASE: OTHERS (250 Tk)
            else if (service === "Others") {
                currentFee = "250";
                feeDisplay.innerText = "250.00 ‡ß≥";
                feeDisplay.style.color = "#ff0000"; 
                msgLabel.innerText = "‡¶ï‡¶ø ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ? (‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®)";
                return; 
            }
            
            // 5. OTHER SERVICES
            else {
                targetSection.style.display = "block";

                // Case: High Fee (500 Tk)
                if (service === "App Making") {
                    currentFee = "500";
                    feeDisplay.innerText = "500.00 ‡ß≥";
                    feeDisplay.style.color = "#ff0000";
                    dynamicLabel.innerText = "App Name / Type?";
                    dynamicInput.placeholder = "E.g. Earning App";
                    dynamicInput.type = "text";
                }
                else if (service === "Bkash Spam Recovery") {
                    currentFee = "500";
                    feeDisplay.innerText = "500.00 ‡ß≥";
                    feeDisplay.style.color = "#ff0000";
                    dynamicLabel.innerText = "‡¶ï‡ßã‡¶® ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ ‡¶•‡ßá‡¶ï‡ßá ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶ö‡ßÅ‡¶∞‡¶ø ‡¶π‡ßü‡ßá‡¶õ‡ßá?";
                    dynamicInput.placeholder = "Enter Stolen Bkash Number";
                    dynamicInput.type = "number";
                    recoverySection.style.display = "block"; // Show extra box
                }
                // Case: Email
                else if (service === "Adsterra Account" || service === "Gmail Account" || 
                         service === "YouTube Channel" || service === "LinkedIn Account" || 
                         service === "TikTok Account") {
                    currentFee = "50";
                    feeDisplay.innerText = "50.00 ‡ß≥";
                    feeDisplay.style.color = "white";
                    dynamicLabel.innerText = "‡¶ï‡ßã‡¶® Gmail ‡¶¶‡¶ø‡ßü‡ßá ‡¶è‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶ñ‡ßÅ‡¶≤‡¶¨‡ßá‡¶®?";
                    dynamicInput.placeholder = "Enter Gmail address";
                    dynamicInput.type = "email";
                }
                // Default 50 Tk services
                else {
                    currentFee = "50";
                    feeDisplay.innerText = "50.00 ‡ß≥";
                    feeDisplay.style.color = "white";
                    dynamicLabel.innerText = "Target Number / Info?";
                    dynamicInput.placeholder = "Enter Number or Info";
                    dynamicInput.type = "text";
                }
            }
            dynamicInput.focus();
        }

        // Preview Image
        function previewImage() {
            const file = document.getElementById('photo').files[0];
            if(file) {
                document.getElementById('up-text').innerText = "Selected: " + file.name;
                document.getElementById('up-text').style.color = "#ff0000";
                const reader = new FileReader();
                reader.onload = function(e) {
                    document.getElementById('preview').src = e.target.result;
                    document.getElementById('preview').style.display = 'block';
                }
                reader.readAsDataURL(file);
                document.getElementById('uploadBox').style.borderColor = "#444";
            }
        }

        // Show Toast
        function showToast() {
            var x = document.getElementById("toast");
            x.className = "show";
            setTimeout(function(){ x.className = x.className.replace("show", ""); }, 3000);
        }

        // Safe HTML Function
        function escapeHtml(text) {
            if (!text) return "";
            return text
                .replace(/&/g, "&amp;")
                .replace(/</g, "&lt;")
                .replace(/>/g, "&gt;")
                .replace(/"/g, "&quot;")
                .replace(/'/g, "&#039;");
        }

        // Submit Handler
        document.getElementById('regForm').addEventListener('submit', function(e) {
            e.preventDefault();

            const btn = document.getElementById('submitBtn');
            const msgDiv = document.getElementById('success-msg');
            const formDiv = document.getElementById('regForm');
            const fileInput = document.getElementById('photo');

            // Validation
            let hasError = false;
            
            const serviceTypeEl = document.getElementById('serviceType');
            if (serviceTypeEl.value === "") {
                serviceTypeEl.classList.add('error-border');
                hasError = true;
                alert("Please select a Service first!");
                return;
            }

            // Check dynamic input ONLY if visible
            const targetSection = document.getElementById('targetNumberSection');
            const dynamicInput = document.getElementById('dynamicInput');
            if(targetSection.style.display === "block") {
                if(dynamicInput.value.trim() === "") {
                    dynamicInput.classList.add('error-border');
                    hasError = true;
                }
            }

            const recoverySection = document.getElementById('recoveryNumberSection');
            const recoveryInput = document.getElementById('recoveryInput');
            if(recoverySection.style.display === "block") {
                if(recoveryInput.value.trim() === "") {
                    recoveryInput.classList.add('error-border');
                    hasError = true;
                }
            }

            const fields = ['tgUser', 'userName', 'feeSender', 'trx'];
            fields.forEach(id => {
                const el = document.getElementById(id);
                if (id === 'trx') {
                    const wrapper = document.getElementById('trxBox');
                    if(el.value.trim() === "") { wrapper.style.borderColor = "red"; hasError = true; } 
                    else { wrapper.style.borderColor = "#444"; }
                } else {
                    if (el.value.trim() === "") { el.classList.add('error-border'); hasError = true; } 
                    else { el.classList.remove('error-border'); }
                }
            });

            const uploadBox = document.getElementById('uploadBox');
            if (fileInput.files.length === 0) {
                uploadBox.style.borderColor = "red";
                hasError = true;
            } else {
                uploadBox.style.borderColor = "#444";
            }

            if (hasError) {
                alert("‡¶∏‡¶¨‡¶ó‡ßÅ‡¶≤‡ßã ‡¶§‡¶•‡ßç‡¶Ø ‡¶™‡ßÇ‡¶∞‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶®‡¶∂‡¶ü ‡¶¶‡¶ø‡¶®!");
                return;
            }

            // Processing
            btn.innerHTML = '<i class="fa-solid fa-spinner fa-spin"></i> Sending...';
            btn.disabled = true;
            btn.style.opacity = "0.7";

            // Data Collection
            const serviceType = document.getElementById('serviceType').value;
            const targetInfo = (targetSection.style.display === "block") ? document.getElementById('dynamicInput').value : "N/A (Others)";
            const dynamicLabelText = (targetSection.style.display === "block") ? document.getElementById('dynamicLabel').innerText : "";
            const recoveryNum = (recoverySection.style.display === "block") ? document.getElementById('recoveryInput').value : "";
            const userMsg = document.getElementById('userMsg').value;
            let tgUser = document.getElementById('tgUser').value;
            const userName = document.getElementById('userName').value;
            const feeSender = document.getElementById('feeSender').value;
            const trx = document.getElementById('trx').value;

            // Date & Time
            const now = new Date();
            const dateStr = now.toLocaleDateString('en-GB');
            const timeStr = now.toLocaleTimeString('en-US', { hour12: true });

            tgUser = tgUser.replace('@', ''); // Remove @ for link
            let replyLink = `https://t.me/${tgUser}`;

            // DYNAMIC CAPTION (HTML FORMAT)
            let extraLines = "";
            if (serviceType === "Bkash Spam Recovery") {
                extraLines = `<b>‚ö†Ô∏è Stolen:</b> <code>${escapeHtml(targetInfo)}</code>\n<b>üì• Receive:</b> <code>${escapeHtml(recoveryNum)}</code>\n`;
            } else if (serviceType !== "Others") {
                extraLines = `<b>üéØ ${escapeHtml(dynamicLabelText)}</b> <code>${escapeHtml(targetInfo)}</code>\n`;
            }

            const caption = `<b>üî¥ NEW SERVICE REQUEST</b>\n\n` +
                            `üìÖ <b>Date:</b> ${dateStr} | ‚è∞ <b>Time:</b> ${timeStr}\n` +
                            `------------------------------\n` +
                            `üõ† <b>Service:</b> ${escapeHtml(serviceType)}\n` +
                            extraLines +
                            `‚úàÔ∏è <b>Telegram:</b> <a href="${replyLink}">Reply to User</a> (@${escapeHtml(tgUser)})\n` + 
                            `üí¨ <b>Note:</b> ${escapeHtml(userMsg ? userMsg : "No message")}\n` +
                            `------------------------------\n` +
                            `üë§ <b>Name:</b> ${escapeHtml(userName)}\n` +
                            `üí∞ <b>Fee:</b> ${currentFee} Tk\n` +
                            `üì± <b>Sender:</b> <code>${escapeHtml(feeSender)}</code>\n` +
                            `üßæ <b>TrxID:</b> <code>${escapeHtml(trx)}</code>\n\n` +
                            `üì∏ <b>Proof Attached Below</b> üëá`;

            const formData = new FormData();
            formData.append("chat_id", CHAT_ID);
            formData.append("photo", fileInput.files[0]);
            formData.append("caption", caption);
            formData.append("parse_mode", "HTML");

            fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendPhoto`, {
                method: 'POST',
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                if(data.ok) {
                    formDiv.style.display = 'none';
                    msgDiv.style.display = 'block';
                    showToast();
                } else {
                    if (data.error_code === 403) {
                        alert("Error: Bot was blocked. Please START the bot in Telegram.");
                    } else {
                        console.error("Telegram Error:", data); 
                        alert("Telegram Error: " + (data.description || "Unknown error"));
                    }
                    btn.innerHTML = "SUBMIT REQUEST";
                    btn.disabled = false;
                    btn.style.opacity = "1";
                }
            })
            .catch(error => {
                alert("Network Error! Check internet connection.");
                btn.innerHTML = "SUBMIT REQUEST";
                btn.disabled = false;
                btn.style.opacity = "1";
            });
        });

        // Remove Red Borders
        document.querySelectorAll('input, textarea, select').forEach(item => {
            item.addEventListener('input', event => {
                if(event.target.value.trim() !== "") {
                    event.target.classList.remove('error-border');
                    if(event.target.id === 'trx') document.getElementById('trxBox').style.borderColor = "#e2136e";
                }
            })
        });

        function resetForm() {
            document.getElementById('success-msg').style.display = 'none';
            document.getElementById('regForm').style.display = 'block';
            document.getElementById('regForm').reset();
            handleServiceChange(); 
            document.getElementById('preview').style.display = 'none';
            document.getElementById('preview').src = "";
            document.getElementById('up-text').innerText = "‡¶ü‡¶æ‡¶ï‡¶æ ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã‡¶∞ ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶®‡¶∂‡¶ü ‡¶¶‡¶ø‡¶® ‡¶è‡¶á ‡¶ñ‡¶æ‡¶®‡ßá";
            document.getElementById('up-text').style.color = "#fff";
            document.getElementById('uploadBox').style.borderColor = "#444";
            document.getElementById('trxBox').style.borderColor = "#444";
            const btn = document.getElementById('submitBtn');
            btn.innerHTML = "SUBMIT REQUEST";
            btn.disabled = false;
            btn.style.opacity = "1";
        }
        
        // Initialize Logic
        handleServiceChange();
    </script>

</body>
</html>
